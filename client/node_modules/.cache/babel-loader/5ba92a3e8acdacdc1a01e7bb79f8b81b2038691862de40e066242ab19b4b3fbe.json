{"ast":null,"code":"var _jsxFileName = \"/home/jake/rem-stack/chess/client/src/context/GameContext.tsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const GameProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [initiatingUser, setInitiatingUser] = useState(undefined);\n  const [receivingUser, setReceivingUser] = useState(undefined);\n  const [gameId, setGameId] = useState('');\n  const [gameState, setGameState] = useState(produceEmptyBoard());\n  const {\n    isLoggedIn\n  } = useContext(AuthContext);\n  const [socketUrl, setSocketUrl] = useState('');\n  useEffect(() => {\n    if (isLoggedIn) {\n      setSocketUrl('ws://localhost:3001');\n    }\n  }, [isLoggedIn]);\n  const {\n    sendMessage,\n    lastMessage,\n    readyState\n  } = socketUrl ? useWebSocket(socketUrl, {\n    onOpen: () => console.log('opened'),\n    shouldReconnect: closeEvent => true\n  }) : {\n    sendMessage: () => {},\n    lastMessage: null,\n    readyState: ReadyState.UNINSTANTIATED\n  };\n  return /*#__PURE__*/_jsxDEV(GameContext.Provider, {\n    value: {\n      initiatingUser,\n      receivingUser,\n      gameId,\n      gameState,\n      setGameId,\n      setInitiatingUser,\n      setReceivingUser,\n      setGameState,\n      sendMessage,\n      lastMessage,\n      readyState\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(GameProvider, \"QB2gzPht+4T4pHJCag6Io0gDLsY=\", true);\n_c = GameProvider;\nvar _c;\n$RefreshReg$(_c, \"GameProvider\");","map":{"version":3,"names":["GameProvider","_ref","_s","children","initiatingUser","setInitiatingUser","useState","undefined","receivingUser","setReceivingUser","gameId","setGameId","gameState","setGameState","produceEmptyBoard","isLoggedIn","useContext","AuthContext","socketUrl","setSocketUrl","useEffect","sendMessage","lastMessage","readyState","useWebSocket","onOpen","console","log","shouldReconnect","closeEvent","ReadyState","UNINSTANTIATED","_jsxDEV","GameContext","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/jake/rem-stack/chess/client/src/context/GameContext.tsx"],"sourcesContent":["export const GameProvider: React.FC<GameProviderProps> = ({ children }) => {\n  const [initiatingUser, setInitiatingUser] = useState<Player | undefined>(undefined);\n  const [receivingUser, setReceivingUser] = useState<Player | undefined>(undefined);\n  const [gameId, setGameId] = useState<string>('');\n  const [gameState, setGameState] = useState<GameState>(produceEmptyBoard());\n  const { isLoggedIn } = useContext(AuthContext)\n  const [socketUrl, setSocketUrl] = useState<string>('');\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      setSocketUrl('ws://localhost:3001');\n    }\n  }, [isLoggedIn]);\n\n  const {\n    sendMessage,\n    lastMessage,\n    readyState\n  } = socketUrl ? useWebSocket<StartGameMessageObject>(socketUrl, {\n    onOpen: () => console.log('opened'),\n    shouldReconnect: (closeEvent) => true,\n  }) : {\n    sendMessage: () => {},\n    lastMessage: null,\n    readyState: ReadyState.UNINSTANTIATED\n  };\n\n  return (\n    <GameContext.Provider value={{ initiatingUser, receivingUser, gameId, gameState, setGameId, setInitiatingUser, setReceivingUser, setGameState, sendMessage, lastMessage, readyState }}>\n      {children}\n    </GameContext.Provider>\n  );\n};"],"mappings":";;;AAAA,OAAO,MAAMA,YAAyC,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EACpE,MAAM,CAACG,cAAc,EAAEC,iBAAiB,CAAC,GAAGC,QAAQ,CAAqBC,SAAS,CAAC;EACnF,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGH,QAAQ,CAAqBC,SAAS,CAAC;EACjF,MAAM,CAACG,MAAM,EAAEC,SAAS,CAAC,GAAGL,QAAQ,CAAS,EAAE,CAAC;EAChD,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAYQ,iBAAiB,CAAC,CAAC,CAAC;EAC1E,MAAM;IAAEC;EAAW,CAAC,GAAGC,UAAU,CAACC,WAAW,CAAC;EAC9C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAS,EAAE,CAAC;EAEtDc,SAAS,CAAC,MAAM;IACd,IAAIL,UAAU,EAAE;MACdI,YAAY,CAAC,qBAAqB,CAAC;IACrC;EACF,CAAC,EAAE,CAACJ,UAAU,CAAC,CAAC;EAEhB,MAAM;IACJM,WAAW;IACXC,WAAW;IACXC;EACF,CAAC,GAAGL,SAAS,GAAGM,YAAY,CAAyBN,SAAS,EAAE;IAC9DO,MAAM,EAAEA,CAAA,KAAMC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACnCC,eAAe,EAAGC,UAAU,IAAK;EACnC,CAAC,CAAC,GAAG;IACHR,WAAW,EAAEA,CAAA,KAAM,CAAC,CAAC;IACrBC,WAAW,EAAE,IAAI;IACjBC,UAAU,EAAEO,UAAU,CAACC;EACzB,CAAC;EAED,oBACEC,OAAA,CAACC,WAAW,CAACC,QAAQ;IAACC,KAAK,EAAE;MAAE/B,cAAc;MAAEI,aAAa;MAAEE,MAAM;MAAEE,SAAS;MAAED,SAAS;MAAEN,iBAAiB;MAAEI,gBAAgB;MAAEI,YAAY;MAAEQ,WAAW;MAAEC,WAAW;MAAEC;IAAW,CAAE;IAAApB,QAAA,EACnLA;EAAQ;IAAAiC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACrC,EAAA,CAhCWF,YAAyC;AAAAwC,EAAA,GAAzCxC,YAAyC;AAAA,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}